<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title data-i18n="settingsTitle">设置</title>
  <link rel="stylesheet" href="settings.css">
</head>
<body>
  <h1 data-i18n="kageSettings">Kage 设置</h1>

  <div id="message"></div>

  <div class="card">
    <form id="settings-form">
      <div class="setting-item">
        <label for="language-selector" data-i18n="language">语言</label>
        <select id="language-selector">
          <option value="zh-CN">简体中文</option>
          <option value="en">English</option>
        </select>
      </div>
      
      <div class="setting-item">
        <label for="wsPort" data-i18n="wsPort">WebSocket 端口</label>
        <input type="number" id="wsPort" name="wsPort" required min="1024" max="65535">
      </div>

      <div class="setting-item">
        <label for="modelPath" data-i18n="modelPath">模型文件路径 (.model3.json)</label>
        <div class="input-group">
          <input type="text" id="modelPath" name="modelPath" required data-i18n-attr="placeholder" data-i18n="modelPathPlaceholder">
          <button type="button" id="selectModelPath" data-i18n="selectFile">选择文件</button>
        </div>
      </div>

      <div class="setting-item">
        <div class="checkbox-group">
          <input type="checkbox" id="enableSound" name="enableSound">
          <label for="enableSound" data-i18n="enableSound">启用模型音效</label>
        </div>
      </div>

      <div class="setting-item">
        <div class="checkbox-group">
          <input type="checkbox" id="debugMode" name="debugMode">
          <label for="debugMode" data-i18n="debugMode">启用调试模式</label>
        </div>
      </div>

      <div class="setting-item">
        <div class="checkbox-group">
          <input type="checkbox" id="enableMousePassthrough" name="enableMousePassthrough">
          <label for="enableMousePassthrough" data-i18n="enableMousePassthrough">启用鼠标穿透</label>
        </div>
        <p class="description" data-i18n="mousePassthroughDescription">勾选后, 鼠标将无法与模型交互, 点击会穿透到桌面. 取消勾选, 则可在鼠标悬停在模型上时进行交互.</p>
      </div>

      <button type="submit" data-i18n="saveSettings">保存设置</button>
    </form>
  </div>

  <div class="card">
    <div class="setting-item">
      <label data-i18n="modelAdjustment">模型调整</label>
      <button type="button" id="toggleAdjustMode" class="secondary" data-i18n="enableAdjustMode">启用调整模式</button>
      <p class="description" data-i18n="adjustModeDescription">启用后, 可以拖动和缩放模型窗口. 调整完成后请再次点击禁用.</p>
    </div>
  </div>

  <div class="version-info">
  <span data-i18n="currentVersion">当前版本:</span> <span id="appVersion" data-i18n="loading">加载中...</span>
  <button type="button" id="checkUpdates" class="secondary" style="margin-left:12px" data-i18n="checkForUpdates">检查更新</button>
  </div>

  <script src="./settings.js"></script>
</body>
</html>